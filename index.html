<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>คำนวณการกู้เงิน - Rakmao x Vyvr</title>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;500;700&display=swap" rel="stylesheet" />
    <style>
      body {
        font-family: 'Prompt', sans-serif;
        padding: 20px;
        max-width: 500px;
        margin: auto;
      }
      .header-logos {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        margin-bottom: 10px;
      }
      .header-logos img {
        height: 40px;
      }
      h2 {
        color: #0b57d0;
        margin-bottom: 24px;
        text-align: center;
      }
      label {
        display: block;
        font-weight: 500;
        margin-top: 16px;
      }
      input[type="number"],
      input[type="range"] {
        width: 100%;
        margin-top: 4px;
      }
      .value-display {
        text-align: right;
        font-size: 14px;
        color: #333;
        margin-bottom: 8px;
      }
      .details {
        margin-top: 20px;
        font-size: 14px;
        line-height: 1.8;
        background-color: #fafafa;
        padding: 16px;
        border-radius: 8px;
        border: 1px solid #eee;
      }
      .details span {
        float: right;
        font-weight: 500;
      }
    </style>
  </head>
  <body>
    <div class="header-logos">
      <a href="https://rakmao.com" target="_blank">
        <img src="https://rakmao-bo-web.builk.com/assets/logo/rakmao-color.svg" alt="Rakmao Logo" />
      </a>
      <a href="https://play.google.com/store/apps/details?id=lendnovate.vyvr" target="_blank">
        <img src="https://sit-supplier-data.lendnovate.com/vyvr-logo-rgb.png" alt="Vyvr Logo" />
      </a>
    </div>

    <h2>สรุปรายการกู้เงิน</h2>

    <label>ค่าวัสดุก่อสร้าง (บาท)</label>
    <input type="number" id="materialCost" value="1000" min="0" step="10" />

    <label>จำนวนวันที่กู้</label>
    <div class="value-display"><span id="numDaysDisplay">1</span> วัน (สูงสุด 30 วัน)</div>
    <input type="range" id="numDays" min="1" max="30" value="1" />

    <div class="details">
      ค่าวัสดุก่อสร้าง: <span id="costDisplay">1,000.00</span><br />
      ค่าธรรมเนียม (1%): <span id="feeDisplay">10.00</span><br />
      ยอดที่ต้องจ่ายให้รักเหมา: <span id="totalToRakmao">1,010.00</span><br />
      ยอดเงินกู้: <span id="loanDisplay">1,010.00</span><br />
      ดอกเบี้ยต่อปี: <span>15%</span><br />
      ยอดที่ต้องจ่ายคืน Vyvr: <span id="repayDisplay">1,010.42</span>
    </div>

    <script>
      function formatNumber(num) {
        return parseFloat(num).toLocaleString('th-TH', {
          minimumFractionDigits: 2,
          maximumFractionDigits: 2
        });
      }

      function calculate() {
        const materialCost = parseFloat(document.getElementById('materialCost').value) || 0;
        const numDays = parseInt(document.getElementById('numDays').value);

        document.getElementById('numDaysDisplay').innerText = numDays;

        const fee = materialCost * 0.01;
        const total = materialCost + fee;
        const loanAmount = total;

        const interestRatePerDay = 0.15 / 360;
        const repayAmount = loanAmount * (1 + interestRatePerDay * numDays);

        document.getElementById('costDisplay').innerText = formatNumber(materialCost);
        document.getElementById('feeDisplay').innerText = formatNumber(fee);
        document.getElementById('totalToRakmao').innerText = formatNumber(total);
        document.getElementById('loanDisplay').innerText = formatNumber(loanAmount);
        document.getElementById('repayDisplay').innerText = formatNumber(repayAmount);
      }

      // ✅ Realtime update
      document.getElementById('materialCost').addEventListener('input', calculate);
      document.getElementById('numDays').addEventListener('input', calculate);
      window.onload = calculate;
    </script>
  </body>
</html>
